# OCR识别结果编辑功能说明

## 功能概述
OCR识别完成后，识别结果文本框支持手动编辑，用于修正识别错误或调整内容。

## 使用方法

### 1. 查看识别结果
- 框选区域完成后，OCR自动识别
- 识别结果显示在左下方"识别结果（可编辑）"文本框中
- 多个区域的结果会分行显示

### 2. 编辑识别结果
- 直接点击文本框
- 修改任意识别错误的文字
- 可以添加、删除、修改内容
- 支持复制、粘贴等标准文本编辑操作

### 3. 编辑后的应用

#### 自动同步
- 编辑内容会自动同步到对应的识别区域
- 每一行对应一个识别区域
- 导出Excel时会使用编辑后的内容

#### 文件重命名
- 点击"改名并下一张"按钮
- 使用编辑后文本的**第一行**作为新文件名
- 自动清理非法字符
- 重名时自动添加序号

## 使用场景

### 场景1：修正识别错误
```
识别结果：发票编号: 1234S678  （S应该是5）
编辑修改：发票编号: 12345678
重命名后：文件名变为 "发票编号12345678.jpg"
```

### 场景2：调整格式
```
识别结果：张三
          2024-11-26
编辑修改：张三_2024-11-26
重命名后：文件名变为 "张三_2024-11-26.jpg"
```

### 场景3：多区域内容
```
区域1识别：姓名：李四
区域2识别：日期：2024-11-26
区域3识别：金额：1000

编辑后可以调整任意区域的内容
导出Excel时会保存所有编辑后的内容
```

## 注意事项

### ✅ 支持的操作
- 修改任意文字
- 添加新内容
- 删除错误内容
- 调整格式和顺序
- 复制粘贴文本

### ⚠️ 注意事项
1. **多区域对应关系**
   - 第1行对应第1个区域
   - 第2行对应第2个区域
   - 以此类推

2. **重命名使用规则**
   - 仅使用第一行作为文件名
   - 多余的行内容不影响重命名
   - 空行会被忽略

3. **Excel导出规则**
   - 按行顺序导出到对应区域列
   - 行数少于区域数时，多余区域为空
   - 行数多于区域数时，多余行被忽略

### 💡 使用技巧

**技巧1：快速修正**
```
识别完成后立即查看结果
发现错误马上修改
避免后续操作时使用错误数据
```

**技巧2：批量处理前确认**
```
第一个文件识别后先编辑确认
确保格式符合要求
再批量处理其他文件
```

**技巧3：组合使用**
```
多个区域识别不同信息
编辑后组合成需要的格式
例如：姓名+日期+编号
```

## 示例演示

### 示例1：发票识别修正
```
原始识别：
发票号码: 1234S67B90
日期: 2O24-11-26
金额: 1OOO元

编辑修正：
发票号码: 1234567890
日期: 2024-11-26
金额: 1000元

重命名结果：发票号码1234567890.jpg
Excel导出：三列分别为修正后的内容
```

### 示例2：证件识别调整
```
原始识别：
姓名张三
身份证3301O2199001O1234X

编辑调整：
姓名：张三
身份证：330102199001O1234X

（添加冒号分隔，修正字母O为数字0）

重命名结果：姓名张三.jpg
Excel导出：保留编辑后的格式
```

## 常见问题

**Q1: 编辑后如何保存？**
A: 无需手动保存，编辑内容自动同步，直接使用即可。

**Q2: 可以撤销编辑吗？**
A: 使用标准的 Ctrl+Z 撤销快捷键。

**Q3: 切换到下一张文件时，编辑会丢失吗？**
A: 当前文件的编辑内容已保存到区域对象，不会丢失，会在导出时使用。

**Q4: 编辑后重新识别会覆盖吗？**
A: 是的，重新框选识别会清空文本框并显示新结果。

**Q5: 能否只编辑某个区域？**
A: 可以，编辑对应行即可，其他行保持不变。

## 更新历史
- v1.2.0 (2024-11-26): 新增识别结果编辑功能
  - 移除只读限制
  - 自动同步编辑内容
  - 重命名和导出支持编辑后的内容
